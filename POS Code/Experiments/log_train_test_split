Getting activations from json files. If you need to extract them, run with --extract=True 

Loading json activations from bert_activations.json...
48537 13.0
Loading json activations from codebert_activations.json...
48537 13.0
Loading json activations from graphcodebert_activations.json...
48537 13.0
Number of tokens:  358698
length of source dictionary:  6172
length of target dictionary:  44
358698
Total instances: 358698
['_save', 'sessionmaker', 'bom', 'execute', 'shell', 'files', 'management', 'document_instance', 'assertIn', 'serverstr', 'unichr', 'error_msg', 'row', 'bases', '"{}.models"', 'Word2Vec', 'score', 'tmp', '"SMART_RETURN"', 'region_s']
Number of samples:  358698
Stats: Labels with their frequencies in the final set
LESSEQUAL 72
NOTEQUAL 315
SLASH 174
DOT 22389
STAREQUAL 6
COMMENT 39
COLON 17625
GREATEREQUAL 129
MINUS 852
SLASHEQUAL 6
STAR 522
RBRACE 738
RIGHTSHIFT 9
LSQB 6042
ENCODING 3
LBRACE 717
STRING 2022
PLUSEQUAL 381
EQEQUAL 1350
LESS 276
DOUBLESLASH 30
PLUS 1416
RSQB 5925
NAME 101463
LEFTSHIFT 9
AMPEREQUAL 6
AT 213
INDENT 14061
GREATER 417
DEDENT 15801
NEWLINE 38280
DOUBLESTAR 384
NL 10254
VBAR 66
PERCENT 735
SEMI 9
AMPER 15
MINEQUAL 42
COMMA 16581
RPAR 23313
NUMBER 5562
KEYWORD 32196
EQUAL 14811
LPAR 23442
Number of tokens:  358698
length of source dictionary:  6172
length of target dictionary:  44
358698
Total instances: 358698
['_save', 'sessionmaker', 'bom', 'execute', 'shell', 'files', 'management', 'document_instance', 'assertIn', 'serverstr', 'unichr', 'error_msg', 'row', 'bases', '"{}.models"', 'Word2Vec', 'score', 'tmp', '"SMART_RETURN"', 'region_s']
Number of samples:  358698
Stats: Labels with their frequencies in the final set
LESSEQUAL 72
NOTEQUAL 315
SLASH 174
DOT 22389
STAREQUAL 6
COMMENT 39
COLON 17625
GREATEREQUAL 129
MINUS 852
SLASHEQUAL 6
STAR 522
RBRACE 738
RIGHTSHIFT 9
LSQB 6042
ENCODING 3
LBRACE 717
STRING 2022
PLUSEQUAL 381
EQEQUAL 1350
LESS 276
DOUBLESLASH 30
PLUS 1416
RSQB 5925
NAME 101463
LEFTSHIFT 9
AMPEREQUAL 6
AT 213
INDENT 14061
GREATER 417
DEDENT 15801
NEWLINE 38280
DOUBLESTAR 384
NL 10254
VBAR 66
PERCENT 735
SEMI 9
AMPER 15
MINEQUAL 42
COMMA 16581
RPAR 23313
NUMBER 5562
KEYWORD 32196
EQUAL 14811
LPAR 23442
Number of tokens:  358698
length of source dictionary:  6172
length of target dictionary:  44
358698
Total instances: 358698
['_save', 'sessionmaker', 'bom', 'execute', 'shell', 'files', 'management', 'document_instance', 'assertIn', 'serverstr', 'unichr', 'error_msg', 'row', 'bases', '"{}.models"', 'Word2Vec', 'score', 'tmp', '"SMART_RETURN"', 'region_s']
Number of samples:  358698
Stats: Labels with their frequencies in the final set
LESSEQUAL 72
NOTEQUAL 315
SLASH 174
DOT 22389
STAREQUAL 6
COMMENT 39
COLON 17625
GREATEREQUAL 129
MINUS 852
SLASHEQUAL 6
STAR 522
RBRACE 738
RIGHTSHIFT 9
LSQB 6042
ENCODING 3
LBRACE 717
STRING 2022
PLUSEQUAL 381
EQEQUAL 1350
LESS 276
DOUBLESLASH 30
PLUS 1416
RSQB 5925
NAME 101463
LEFTSHIFT 9
AMPEREQUAL 6
AT 213
INDENT 14061
GREATER 417
DEDENT 15801
NEWLINE 38280
DOUBLESTAR 384
NL 10254
VBAR 66
PERCENT 735
SEMI 9
AMPER 15
MINEQUAL 42
COMMA 16581
RPAR 23313
NUMBER 5562
KEYWORD 32196
EQUAL 14811
LPAR 23442
Successfully split activations into train and test set:
bert_X_train shape (286958, 9984) bert_y_train shape (286958,) bert_X_test shape: (71740, 9984) bert_y_test shape (71740,)
codebert_X_train shape (286958, 9984) codebert_y_train shape (286958,) codebert_X_test shape (71740, 9984) codebert_y_test shape (71740,)
graphcodebert_X_train shape (286958, 9984) graphcodebert_y_train shape (286958,) graphcodebert_X_test (71740, 9984) graphcodebert_y_test shape (71740,)
Training classification probe
Creating model...
Number of training instances: 286958
Number of classes: 44
Epoch: [1/10], Loss: 0.0241
Epoch: [2/10], Loss: 0.0235
Epoch: [3/10], Loss: 0.0233
Epoch: [4/10], Loss: 0.0233
Epoch: [5/10], Loss: 0.0233
Epoch: [6/10], Loss: 0.0231
Epoch: [7/10], Loss: 0.0232
Epoch: [8/10], Loss: 0.0233
Epoch: [9/10], Loss: 0.0235
Epoch: [10/10], Loss: 0.0231
Training classification probe
Creating model...
Number of training instances: 286958
Number of classes: 44
Epoch: [1/10], Loss: 0.0157
Epoch: [2/10], Loss: 0.0151
Epoch: [3/10], Loss: 0.0150
Epoch: [4/10], Loss: 0.0149
Epoch: [5/10], Loss: 0.0149
Epoch: [6/10], Loss: 0.0148
Epoch: [7/10], Loss: 0.0149
Epoch: [8/10], Loss: 0.0149
Epoch: [9/10], Loss: 0.0148
Epoch: [10/10], Loss: 0.0148
Training classification probe
Creating model...
Number of training instances: 286958
Number of classes: 44
Epoch: [1/10], Loss: 0.0155
Epoch: [2/10], Loss: 0.0149
Epoch: [3/10], Loss: 0.0148
Epoch: [4/10], Loss: 0.0147
Epoch: [5/10], Loss: 0.0147
Epoch: [6/10], Loss: 0.0147
Epoch: [7/10], Loss: 0.0147
Epoch: [8/10], Loss: 0.0147
Epoch: [9/10], Loss: 0.0147
Epoch: [10/10], Loss: 0.0147
Score (accuracy) of the probe: 0.96
Score (accuracy) of the probe: 0.98
Score (accuracy) of the probe: 0.98
Score (accuracy) of the probe: 0.96
{'__OVERALL__': 0.9572205185391692, 'LESSEQUAL': 0.0, 'NOTEQUAL': 0.0, 'SLASH': 0.1875, 'DOT': 1.0, 'STAREQUAL': 0.0, 'COMMENT': 0.0, 'COLON': 1.0, 'GREATEREQUAL': 0.0, 'MINUS': 0.9368421052631579, 'SLASHEQUAL': 0.0, 'STAR': 0.0, 'RBRACE': 0.8580246913580247, 'RIGHTSHIFT': 0.0, 'LSQB': 1.0, 'ENCODING': nan, 'LBRACE': 0.0064516129032258064, 'STRING': 0.11583924349881797, 'PLUSEQUAL': 0.0, 'EQEQUAL': 0.0, 'LESS': 1.0, 'DOUBLESLASH': 0.0, 'PLUS': 1.0, 'RSQB': 1.0, 'NAME': 0.9895911524796077, 'LEFTSHIFT': 0.0, 'AMPEREQUAL': nan, 'AT': 0.0, 'INDENT': 0.7685767097966728, 'GREATER': 0.0, 'DEDENT': 0.9789750328515112, 'NEWLINE': 1.0, 'DOUBLESTAR': 0.0, 'NL': 0.6961038961038961, 'VBAR': 0.0, 'PERCENT': 1.0, 'SEMI': 0.0, 'AMPER': 0.0, 'MINEQUAL': 0.0, 'COMMA': 1.0, 'RPAR': 1.0, 'NUMBER': 0.9649960222752586, 'KEYWORD': 0.9973164956590371, 'EQUAL': 1.0, 'LPAR': 1.0}
Score (accuracy) of the probe: 0.98
{'__OVERALL__': 0.9762057429606914, 'LESSEQUAL': 0.0, 'NOTEQUAL': 0.0, 'SLASH': 0.0, 'DOT': 1.0, 'STAREQUAL': 0.0, 'COMMENT': 0.0, 'COLON': 1.0, 'GREATEREQUAL': 0.0, 'MINUS': 0.7315789473684211, 'SLASHEQUAL': 0.0, 'STAR': 1.0, 'RBRACE': 0.2654320987654321, 'RIGHTSHIFT': 0.0, 'LSQB': 1.0, 'ENCODING': nan, 'LBRACE': 0.7354838709677419, 'STRING': 0.002364066193853428, 'PLUSEQUAL': 0.0, 'EQEQUAL': 0.5952380952380952, 'LESS': 1.0, 'DOUBLESLASH': 0.0, 'PLUS': 1.0, 'RSQB': 1.0, 'NAME': 0.9964970224690988, 'LEFTSHIFT': 0.0, 'AMPEREQUAL': nan, 'AT': 0.0, 'INDENT': 0.999630314232902, 'GREATER': 0.0, 'DEDENT': 1.0, 'NEWLINE': 0.999199038846616, 'DOUBLESTAR': 0.0, 'NL': 0.8445887445887446, 'VBAR': 0.0, 'PERCENT': 1.0, 'SEMI': 0.0, 'AMPER': 0.0, 'MINEQUAL': 0.0, 'COMMA': 1.0, 'RPAR': 1.0, 'NUMBER': 0.9474940334128878, 'KEYWORD': 0.9995264404104183, 'EQUAL': 1.0, 'LPAR': 0.999787007454739}
Score (accuracy) of the probe: 0.98
{'__OVERALL__': 0.9766796766099805, 'LESSEQUAL': 0.0, 'NOTEQUAL': 0.0, 'SLASH': 0.0, 'DOT': 1.0, 'STAREQUAL': 0.0, 'COMMENT': 0.0, 'COLON': 1.0, 'GREATEREQUAL': 0.0, 'MINUS': 0.5736842105263158, 'SLASHEQUAL': 0.0, 'STAR': 1.0, 'RBRACE': 0.7839506172839507, 'RIGHTSHIFT': 0.0, 'LSQB': 1.0, 'ENCODING': nan, 'LBRACE': 0.832258064516129, 'STRING': 0.0070921985815602835, 'PLUSEQUAL': 0.0, 'EQEQUAL': 0.8531746031746031, 'LESS': 1.0, 'DOUBLESLASH': 0.0, 'PLUS': 1.0, 'RSQB': 0.9992652461425422, 'NAME': 0.9967972776860331, 'LEFTSHIFT': 0.0, 'AMPEREQUAL': nan, 'AT': 0.0, 'INDENT': 1.0, 'GREATER': 0.0, 'DEDENT': 1.0, 'NEWLINE': 0.999866506474436, 'DOUBLESTAR': 0.0, 'NL': 0.7995670995670996, 'VBAR': 0.0, 'PERCENT': 1.0, 'SEMI': 0.0, 'AMPER': 0.0, 'MINEQUAL': 0.0, 'COMMA': 1.0, 'RPAR': 1.0, 'NUMBER': 0.939538583929992, 'KEYWORD': 0.9995264404104183, 'EQUAL': 1.0, 'LPAR': 1.0}
Creating control dataset for BERT POS tagging task
['utf-8/35', 'def/1', 'status/11', '(/4', 'self/16', ',/30', 'query/5', '=/34', ',/30', 'agent/8', '=/34', 'None/23', ')/29', ':/13', '\\n/19']
Number of tokens:  358698
length of source dictionary:  6172
length of target dictionary:  44
358698
Total instances: 358698
['_save', 'sessionmaker', 'bom', 'execute', 'shell', 'files', 'management', 'document_instance', 'assertIn', 'serverstr', 'unichr', 'error_msg', 'row', 'bases', '"{}.models"', 'Word2Vec', 'score', 'tmp', '"SMART_RETURN"', 'region_s']
Number of samples:  358698
Stats: Labels with their frequencies in the final set
0 3558
1 5499
2 2619
3 1350
4 25119
5 2316
6 1632
7 2541
8 2643
9 2625
10 3042
11 3597
12 8604
13 19734
14 4914
15 3852
16 10656
17 2460
18 12633
19 50040
20 3114
21 2847
22 2670
23 6618
24 4740
25 4878
26 2667
27 15435
28 18480
29 25455
30 19710
31 3354
32 5094
33 2658
34 17334
35 1755
36 2232
37 2253
38 2739
39 2808
40 7023
41 31872
42 1716
43 1812
Training classification probe
Creating model...
Number of training instances: 286958
Number of classes: 44
Epoch: [1/10], Loss: 0.0920
Epoch: [2/10], Loss: 0.0918
Epoch: [3/10], Loss: 0.0917
Epoch: [4/10], Loss: 0.0916
Epoch: [5/10], Loss: 0.0916
Epoch: [6/10], Loss: 0.0916
Epoch: [7/10], Loss: 0.0916
Epoch: [8/10], Loss: 0.0916
Epoch: [9/10], Loss: 0.0916
Epoch: [10/10], Loss: 0.0916
Score (accuracy) of the probe: 0.75
BERT Selectivity (Diff. between true task and probing task performance):  0.2030666294954001
Creating control dataset for CodeBERT POS tagging task
['utf-8/36', 'def/43', 'status/15', '(/33', 'self/32', ',/36', 'query/10', '=/42', ',/36', 'agent/39', '=/42', 'None/43', ')/41', ':/25', '\\n/13']
Number of tokens:  358698
length of source dictionary:  6172
length of target dictionary:  44
358698
Total instances: 358698
['_save', 'sessionmaker', 'bom', 'execute', 'shell', 'files', 'management', 'document_instance', 'assertIn', 'serverstr', 'unichr', 'error_msg', 'row', 'bases', '"{}.models"', 'Word2Vec', 'score', 'tmp', '"SMART_RETURN"', 'region_s']
Number of samples:  358698
Stats: Labels with their frequencies in the final set
0 7827
1 24438
2 3066
3 2508
4 2235
5 3720
6 1971
7 4242
8 2025
9 2454
10 2394
11 1653
12 4041
13 50259
14 2163
15 2610
16 3366
17 2271
18 4884
19 3732
20 10839
21 2073
22 2532
23 2529
24 10674
25 34320
26 1788
27 4821
28 3888
29 2619
30 4176
31 1731
32 10326
33 27393
34 3012
35 2736
36 18714
37 2853
38 6081
39 4074
40 4857
41 41403
42 17457
43 5943
Training classification probe
Creating model...
Number of training instances: 286958
Number of classes: 44
Epoch: [1/10], Loss: 0.0721
Epoch: [2/10], Loss: 0.0717
Epoch: [3/10], Loss: 0.0716
Epoch: [4/10], Loss: 0.0716
Epoch: [5/10], Loss: 0.0716
Epoch: [6/10], Loss: 0.0716
Epoch: [7/10], Loss: 0.0716
Epoch: [8/10], Loss: 0.0716
Epoch: [9/10], Loss: 0.0716
Epoch: [10/10], Loss: 0.0716
Score (accuracy) of the probe: 0.76
CodeBERT Selectivity (Diff. between true task and probing task performance):  0.21583495957624754
Creating control dataset for GraphCodeBERT POS tagging task
['utf-8/28', 'def/38', 'status/34', '(/23', 'self/14', ',/4', 'query/26', '=/36', ',/4', 'agent/9', '=/36', 'None/43', ')/18', ':/15', '\\n/12']
Number of tokens:  358698
length of source dictionary:  6172
length of target dictionary:  44
358698
Total instances: 358698
['_save', 'sessionmaker', 'bom', 'execute', 'shell', 'files', 'management', 'document_instance', 'assertIn', 'serverstr', 'unichr', 'error_msg', 'row', 'bases', '"{}.models"', 'Word2Vec', 'score', 'tmp', '"SMART_RETURN"', 'region_s']
Number of samples:  358698
Stats: Labels with their frequencies in the final set
0 2433
1 4365
2 3195
3 1614
4 19080
5 3831
6 2427
7 2649
8 2616
9 2301
10 24345
11 2964
12 66021
13 5163
14 11712
15 21900
16 3030
17 8418
18 25767
19 3534
20 5322
21 4653
22 3399
23 27741
24 2982
25 2211
26 3318
27 2418
28 2361
29 2577
30 2607
31 3645
32 1497
33 2025
34 4029
35 2154
36 17901
37 7860
38 22053
39 2007
40 2628
41 9699
42 2544
43 3702
Training classification probe
Creating model...
Number of training instances: 286958
Number of classes: 44
Epoch: [1/10], Loss: 0.0694
Epoch: [2/10], Loss: 0.0690
Epoch: [3/10], Loss: 0.0690
Epoch: [4/10], Loss: 0.0689
Epoch: [5/10], Loss: 0.0689
Epoch: [6/10], Loss: 0.0689
Epoch: [7/10], Loss: 0.0689
Epoch: [8/10], Loss: 0.0689
Epoch: [9/10], Loss: 0.0689
Epoch: [10/10], Loss: 0.0689
Score (accuracy) of the probe: 0.76
GraphCodeBERT Selectivity (Diff. between true task and probing task performance):  0.21458042932812937
