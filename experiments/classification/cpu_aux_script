#!/bin/bash
#SBATCH --nodes=1
#SBATCH --ntasks=8
#SBATCH --mem=128G
#SBATCH --time=1-10:00:00

#Run experiments after extraction-- details in example_config.json

module load ml-gpu

cd /work/LAS/jannesar-lab/arushi/Interpretability/interpretability-of-source-code-transformers/experiments/classification


ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_clonedet_codebert.json > Results/CodeBERT_CloneDet/output_codebert_clonedet_sentence_pipeline_all1_acc

ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_clonedet_codebert.json > Results/CodeBERT_CloneDet/output_codebert_clonedet_sentence_pipeline_all2_acc


ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_clonedet_codebert.json > Results/CodeBERT_CloneDet/output_codebert_clonedet_sentence_pipeline_all3_acc


ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_max_features.py --config config_clonedet_codebert.json > Results/CodeBERT_CloneDet/output_codebert_clonedet_sentence_max_features_acc

ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_max_features.py --config config_clonedet_codebert.json > Results/CodeBERT_CloneDet/output_codebert_clonedet_sentence_max_features1_acc

ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_cc_all.py --config config_clonedet_codebert.json > Results/CodeBERT_CloneDet/output_codebert_clonedet_sentence_cc_all_acc

ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_cc_all.py --config config_clonedet_codebert.json > Results/CodeBERT_CloneDet/output_codebert_clonedet_sentence_cc_all_acc

ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_clondet_graphcodebert.json > Results/GraphCodeBERT_CloneDet/output_graphcodebert_clonedet_sentence_pipeline_all_acc

ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_max_features.py --config config_clondet_graphcodebert.json > Results/GraphCodeBERT_CloneDet/output_graphcodebert_clonedet_sentence_max_features_acc
	
ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_cc_all.py --config config_clondet_graphcodebert.json > Results/GraphCodeBERT_CloneDet/output_graphcodebert_clonedet_sentence_cc_all_acc

# ------------------------------------Defect Detection ---------------------------------
#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_defdet_codebert.json > Results/CodeBERT_DefDet/output_codebert_defdet_sentence_pipeline_all

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_defdet_codebert.json > Results/CodeBERT_DefDet/output_codebert_defdet_sentence_pipeline_all1

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_defdet_codebert.json > Results/CodeBERT_DefDet/output_codebert_defdet_sentence_pipeline_all2

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_max_features.py --config config_defdet_codebert.json > Results/CodeBERT_DefDet/output_codebert_defdet_sentence_max_features

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_max_features.py --config config_defdet_codebert.json > Results/CodeBERT_DefDet/output_codebert_defdet_sentence_max_features1

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_max_features.py --config config_defdet_codebert.json > Results/CodeBERT_DefDet/output_codebert_defdet_sentence_max_features2

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_cc_all.py --config config_defdet_codebert.json > Results/CodeBERT_DefDet/output_codebert_defdet_sentence_cc_all

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_cc_all.py --config config_defdet_codebert.json > Results/CodeBERT_DefDet/output_codebert_defdet_sentence_cc_all1

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_cc_all.py --config config_defdet_codebert.json > Results/CodeBERT_DefDet/output_codebert_defdet_sentence_cc_all2


#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_defdet_graphcodebert.json > Results/GraphCodeBERT_DefDet/output_graphcodebert_defdet_sentence_pipeline_all

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_defdet_graphcodebert.json > Results/GraphCodeBERT_DefDet/output_graphcodebert_defdet_sentence_pipeline_all1

#ml-gpu /work/LAS/jannesar-lab/arushi/Environments/aux_classifier_env/bin/python run_sentence_pipeline_all.py --config config_defdet_graphcodebert.json > Results/GraphCodeBERT_DefDet/output_graphcodebert_defdet_sentence_pipeline_all2
